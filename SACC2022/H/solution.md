# 向听计算

**一般型**

对于单一花色、不考虑雀头，那么和牌型必然恰包含且只包含面子。

记 $m_i, s_i, p_i, z_i$（$0 \leq i \leq 4$）表示将给定的手牌中的指定花色变为 $i$ 副面子的最小代价（摸切次数）。

对于字牌，因为只有刻子，我们可以很轻松地计算出 $z_i$。

对于万索饼三种花色，我们可以预处理出单一花色的所有全面子的构成（大约 $3000$ 种），并将其与给定手牌比对，得到差值即可算出代价。

为了方便计算，我们还需要额外处理出 $m'_i, s'_i, p'_i, z'_i$ 表示将给定的手牌中的指定花色变为 $i$ 副面子和 $1$ 副雀头的最小代价。

这样最小代价即为：

$$
\min_{a+b+c+d=4}
\begin{cases}
m'_a + s_b + p_c + z_d \\
m_a + s'_b + p_c + z_d \\
m_a + s_b + p'_c + z_d \\
m_a + s_b + p_c + z'_d
\end{cases}
$$

**七对子型**

直接找到出现次数前七大的牌即可，以它们作为目标计算最后的代价。

**国士无双型**

首先找到所有的幺九牌的出现次数。

当所有的幺九牌出现次数都不超过 $1$ 次，那么目标即为所有幺九牌恰出现一次，以它作为目标计算最后的代价。

当有至少一种幺九牌（假设为 $x$）出现了 $2$ 次，那么目标即为 $x$ 出现两次，有一张幺九不出现，其他幺九恰出现一次，以它作为目标计算最后的代价。
